{
  "name": "run-query",
  "description": "Executes a query in Metabase. A query is composed from multiple steps",
  "parameters": {
    "type": "object",
    "properties": {
      "steps": {
        "type": "array",
        "description": "List of query steps.",
        "items": {
          "anyOf": [
            {
              "type": "object",
              "description": "Sort the query results.",
              "properties": {
                "type": {
                  "type": "string",
                  "description": "The type of the order by step.",
                  "enum": [
                    "order_by"
                  ]
                },
                "column_name": {
                  "type": "string",
                  "description": "The name of the column to apply sorting for."
                }
              },
              "required": [
                "type",
                "column_name"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "description": "Set the row limit for the query.",
              "properties": {
                "type": {
                  "type": "string",
                  "description": "The type of the row limit step.",
                  "enum": [
                    "limit"
                  ]
                },
                "limit": {
                  "type": "number",
                  "description": "Row limit."
                }
              },
              "required": [
                "type",
                "limit"
              ],
              "additionalProperties": false
            }
          ]
        }
      }
    },
    "required": [
      "steps"
    ],
    "additionalProperties": false
  }
}
